<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>VoiceToggleButton Component Demo - Reflexa AI</title>
    <style>
      /* Theme Variables */
      :root {
        --color-zen-50: oklch(0.985 0.008 232.5);
        --color-zen-100: oklch(0.96 0.02 232.5);
        --color-zen-400: oklch(0.75 0.14 232.5);
        --color-calm-50: oklch(0.99 0.002 264);
        --color-calm-100: oklch(0.97 0.004 264);
        --color-calm-200: oklch(0.93 0.008 264);
        --color-calm-400: oklch(0.71 0.022 264);
        --font-sans: 'Inter', system-ui, -apple-system, 'Segoe UI', sans-serif;
        --radius-md: 16px;
        --shadow-medium: 0 4px 12px 0 rgb(0 0 0 / 0.08);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: var(--font-sans);
        background: linear-gradient(
          135deg,
          rgba(15, 23, 42, 0.95) 0%,
          rgba(30, 41, 59, 0.95) 50%,
          rgba(51, 65, 85, 0.95) 100%
        );
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 40px 20px;
        color: var(--color-zen-100);
      }

      .demo-container {
        max-width: 800px;
        width: 100%;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 24px;
        padding: 48px;
        box-shadow: var(--shadow-medium);
      }

      h1 {
        font-size: 32px;
        font-weight: 600;
        margin-bottom: 12px;
        text-align: center;
        letter-spacing: -0.02em;
      }

      .subtitle {
        font-size: 16px;
        color: var(--color-calm-400);
        text-align: center;
        margin-bottom: 48px;
      }

      .demo-section {
        margin-bottom: 40px;
      }

      .demo-section:last-child {
        margin-bottom: 0;
      }

      .section-title {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 16px;
        color: var(--color-zen-100);
      }

      .demo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 24px;
        margin-bottom: 24px;
      }

      .demo-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 12px;
        padding: 24px;
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 16px;
      }

      .demo-label {
        font-size: 14px;
        color: var(--color-calm-400);
        text-align: center;
      }

      .controls {
        display: flex;
        flex-direction: column;
        gap: 16px;
        padding: 24px;
        background: rgba(255, 255, 255, 0.03);
        border: 1px solid rgba(255, 255, 255, 0.08);
        border-radius: 16px;
      }

      .control-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
      }

      .control-label {
        font-size: 14px;
        color: var(--color-zen-100);
      }

      button.control-button {
        padding: 8px 16px;
        background: rgba(14, 165, 233, 0.2);
        border: 1px solid rgba(14, 165, 233, 0.4);
        border-radius: 8px;
        color: var(--color-zen-100);
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      button.control-button:hover {
        background: rgba(14, 165, 233, 0.3);
        border-color: rgba(14, 165, 233, 0.6);
      }

      .checkbox-wrapper {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      input[type='checkbox'] {
        width: 20px;
        height: 20px;
        cursor: pointer;
      }

      /* VoiceToggleButton Styles */
      .reflexa-voice-toggle-button {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        min-width: 44px;
        min-height: 44px;
        padding: 10px 16px;
        background: rgba(255, 255, 255, 0.08);
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: var(--radius-md);
        color: var(--color-zen-100);
        font-family: var(--font-sans);
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition:
          transform 0.2s ease,
          background-color 0.2s ease,
          border-color 0.2s ease,
          box-shadow 0.2s ease;
        user-select: none;
      }

      .reflexa-voice-toggle-button:hover:not(:disabled) {
        background: rgba(255, 255, 255, 0.12);
        border-color: rgba(56, 189, 248, 0.4);
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(14, 165, 233, 0.2);
      }

      .reflexa-voice-toggle-button:active:not(:disabled) {
        transform: translateY(0);
      }

      .reflexa-voice-toggle-button:focus-visible {
        outline: 2px solid #0ea5e9;
        outline-offset: 2px;
      }

      .reflexa-voice-toggle-button--disabled {
        opacity: 0.5;
        cursor: not-allowed;
        pointer-events: none;
      }

      .reflexa-voice-toggle-button--recording {
        background: rgba(239, 68, 68, 0.15);
        border-color: rgba(239, 68, 68, 0.5);
        color: #ef4444;
      }

      .reflexa-voice-toggle-button--recording:hover:not(:disabled) {
        background: rgba(239, 68, 68, 0.2);
        border-color: rgba(239, 68, 68, 0.6);
        box-shadow: 0 2px 8px rgba(239, 68, 68, 0.3);
      }

      .reflexa-voice-toggle-button__icon {
        font-size: 20px;
        line-height: 1;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .reflexa-voice-toggle-button__indicator {
        width: 12px;
        height: 12px;
        background: #ef4444;
        border-radius: 50%;
        animation: voicePulse 1s ease-in-out infinite;
      }

      @keyframes voicePulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.3);
          opacity: 0.7;
        }
      }

      .reflexa-voice-toggle-button__text {
        font-size: 14px;
        font-weight: 500;
        line-height: 1;
        white-space: nowrap;
      }

      /* Reduce motion support */
      .reflexa-voice-toggle-button--reduce-motion
        .reflexa-voice-toggle-button__indicator {
        animation: none;
        opacity: 1;
      }

      .reflexa-voice-toggle-button--reduce-motion:hover:not(:disabled) {
        transform: none;
      }

      .reflexa-voice-toggle-button--reduce-motion:active:not(:disabled) {
        transform: none;
      }

      @media (prefers-reduced-motion: reduce) {
        .reflexa-voice-toggle-button {
          transition: none;
        }

        .reflexa-voice-toggle-button:hover:not(:disabled) {
          transform: none;
        }

        .reflexa-voice-toggle-button:active:not(:disabled) {
          transform: none;
        }

        .reflexa-voice-toggle-button__indicator {
          animation: none;
        }
      }
    </style>
  </head>
  <body>
    <div class="demo-container">
      <h1>ðŸŽ¤ VoiceToggleButton Component</h1>
      <p class="subtitle">
        Interactive demo of the voice input toggle button with all states and
        features
      </p>

      <!-- States Demo -->
      <div class="demo-section">
        <h2 class="section-title">Button States</h2>
        <div class="demo-grid">
          <div class="demo-item">
            <button
              class="reflexa-voice-toggle-button"
              aria-label="Start voice input"
              title="Voice input (English)"
            >
              <span class="reflexa-voice-toggle-button__icon">ðŸŽ¤</span>
            </button>
            <span class="demo-label">Inactive State</span>
          </div>

          <div class="demo-item">
            <button
              class="reflexa-voice-toggle-button reflexa-voice-toggle-button--recording"
              aria-label="Stop voice input"
              title="Voice input (English)"
            >
              <span class="reflexa-voice-toggle-button__indicator"></span>
              <span class="reflexa-voice-toggle-button__text"
                >Recording...</span
              >
            </button>
            <span class="demo-label">Recording State</span>
          </div>

          <div class="demo-item">
            <button
              class="reflexa-voice-toggle-button reflexa-voice-toggle-button--disabled"
              aria-label="Start voice input"
              title="Voice input (English)"
              disabled
            >
              <span class="reflexa-voice-toggle-button__icon">ðŸŽ¤</span>
            </button>
            <span class="demo-label">Disabled State</span>
          </div>

          <div class="demo-item">
            <button
              class="reflexa-voice-toggle-button reflexa-voice-toggle-button--recording reflexa-voice-toggle-button--reduce-motion"
              aria-label="Stop voice input"
              title="Voice input (English)"
            >
              <span class="reflexa-voice-toggle-button__indicator"></span>
              <span class="reflexa-voice-toggle-button__text"
                >Recording...</span
              >
            </button>
            <span class="demo-label">Reduce Motion Mode</span>
          </div>
        </div>
      </div>

      <!-- Interactive Demo -->
      <div class="demo-section">
        <h2 class="section-title">Interactive Demo</h2>
        <div class="controls">
          <div class="control-row">
            <span class="control-label">Interactive Button:</span>
            <button
              id="interactive-button"
              class="reflexa-voice-toggle-button"
              aria-label="Start voice input"
              title="Voice input (English)"
            >
              <span class="reflexa-voice-toggle-button__icon">ðŸŽ¤</span>
            </button>
          </div>

          <div class="control-row">
            <span class="control-label">Toggle Recording:</span>
            <button class="control-button" onclick="toggleRecording()">
              Toggle
            </button>
          </div>

          <div class="control-row">
            <span class="control-label">Toggle Disabled:</span>
            <div class="checkbox-wrapper">
              <input
                type="checkbox"
                id="disabled-toggle"
                onchange="toggleDisabled()"
              />
              <label for="disabled-toggle">Disabled</label>
            </div>
          </div>

          <div class="control-row">
            <span class="control-label">Reduce Motion:</span>
            <div class="checkbox-wrapper">
              <input
                type="checkbox"
                id="reduce-motion-toggle"
                onchange="toggleReduceMotion()"
              />
              <label for="reduce-motion-toggle">Reduce Motion</label>
            </div>
          </div>

          <div class="control-row">
            <span class="control-label">Language:</span>
            <select
              id="language-select"
              class="control-button"
              onchange="updateLanguage()"
              style="padding: 8px 12px"
            >
              <option value="English">English</option>
              <option value="Spanish">Spanish</option>
              <option value="French">French</option>
              <option value="German">German</option>
              <option value="Japanese">Japanese</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Accessibility Features -->
      <div class="demo-section">
        <h2 class="section-title">Accessibility Features</h2>
        <div
          style="
            padding: 24px;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
          "
        >
          <ul
            style="
              list-style: none;
              display: flex;
              flex-direction: column;
              gap: 12px;
            "
          >
            <li style="display: flex; align-items: center; gap: 8px">
              <span style="color: #10b981">âœ“</span>
              <span>Keyboard navigation (Enter and Space keys)</span>
            </li>
            <li style="display: flex; align-items: center; gap: 8px">
              <span style="color: #10b981">âœ“</span>
              <span>Dynamic aria-label based on recording state</span>
            </li>
            <li style="display: flex; align-items: center; gap: 8px">
              <span style="color: #10b981">âœ“</span>
              <span>Tooltip showing current recognition language</span>
            </li>
            <li style="display: flex; align-items: center; gap: 8px">
              <span style="color: #10b981">âœ“</span>
              <span>44x44px minimum touch target size</span>
            </li>
            <li style="display: flex; align-items: center; gap: 8px">
              <span style="color: #10b981">âœ“</span>
              <span>Focus visible styles for keyboard navigation</span>
            </li>
            <li style="display: flex; align-items: center; gap: 8px">
              <span style="color: #10b981">âœ“</span>
              <span>Reduce motion support (no animations)</span>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <script>
      let isRecording = false;
      let isDisabled = false;
      let reduceMotion = false;
      let currentLanguage = 'English';

      const button = document.getElementById('interactive-button');

      function updateButton() {
        // Reset classes
        button.className = 'reflexa-voice-toggle-button';

        // Add state classes
        if (isRecording) {
          button.classList.add('reflexa-voice-toggle-button--recording');
        }
        if (isDisabled) {
          button.classList.add('reflexa-voice-toggle-button--disabled');
        }
        if (reduceMotion) {
          button.classList.add('reflexa-voice-toggle-button--reduce-motion');
        }

        // Update aria-label
        button.setAttribute(
          'aria-label',
          isRecording ? 'Stop voice input' : 'Start voice input'
        );

        // Update title
        button.setAttribute('title', `Voice input (${currentLanguage})`);

        // Update disabled attribute
        button.disabled = isDisabled;

        // Update content
        if (isRecording) {
          button.innerHTML = `
            <span class="reflexa-voice-toggle-button__indicator"></span>
            <span class="reflexa-voice-toggle-button__text">Recording...</span>
          `;
        } else {
          button.innerHTML = `
            <span class="reflexa-voice-toggle-button__icon">ðŸŽ¤</span>
          `;
        }
      }

      function toggleRecording() {
        if (!isDisabled) {
          isRecording = !isRecording;
          updateButton();
        }
      }

      function toggleDisabled() {
        isDisabled = document.getElementById('disabled-toggle').checked;
        updateButton();
      }

      function toggleReduceMotion() {
        reduceMotion = document.getElementById('reduce-motion-toggle').checked;
        updateButton();
      }

      function updateLanguage() {
        currentLanguage = document.getElementById('language-select').value;
        updateButton();
      }

      // Add click handler to interactive button
      button.addEventListener('click', toggleRecording);

      // Add keyboard handler
      button.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          event.preventDefault();
          toggleRecording();
        }
      });
    </script>
  </body>
</html>
