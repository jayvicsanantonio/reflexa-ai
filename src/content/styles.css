/**
 * REFLEXA AI DESIGN SYSTEM - Content Script Styles
 * Theme and accessibility styles for shadow DOM
 *
 * NOTE: @import 'tailwindcss' is removed because this file is loaded
 * as a static asset via chrome.runtime.getURL() and not processed by Vite.
 * Tailwind utilities are available via the content script's CSS bundle.
 * Theme variables are defined here for use in custom styles.
 */

/* ===== ANIMATION KEYFRAMES ===== */
/**
 * Animation keyframes - inlined from src/styles/animations.css
 * to avoid import resolution issues in content script
 */

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes breathing {
  0%,
  100% {
    transform: scale(1);
    opacity: 0.9;
  }
  50% {
    transform: scale(1.2);
    opacity: 1;
  }
}

@keyframes breathingBox {
  0% {
    transform: scale(1);
    opacity: 0.95;
  }
  25% {
    transform: scale(1.2);
    opacity: 1;
  }
  50% {
    transform: scale(1.2);
    opacity: 1;
  }
  75% {
    transform: scale(1);
    opacity: 0.95;
  }
  100% {
    transform: scale(1);
    opacity: 0.95;
  }
}

@keyframes breathingPulse {
  0% {
    transform: scale(1);
    opacity: 0.95;
    box-shadow:
      0 0 40px rgba(14, 165, 233, 0.45),
      inset 0 0 20px rgba(255, 255, 255, 0.22);
  }
  50% {
    transform: scale(1.28);
    opacity: 1;
    box-shadow:
      0 0 55px rgba(14, 165, 233, 0.6),
      inset 0 0 28px rgba(255, 255, 255, 0.28);
  }
  100% {
    transform: scale(1);
    opacity: 0.95;
    box-shadow:
      0 0 40px rgba(14, 165, 233, 0.45),
      inset 0 0 20px rgba(255, 255, 255, 0.22);
  }
}

@keyframes ringPulse {
  0%,
  100% {
    opacity: 0;
    transform: scale(1);
  }
  50% {
    opacity: 0.85;
    transform: scale(1.25);
  }
}

@keyframes meditateFade {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes meditateSlideUp {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.98);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes reflexaPopIn {
  0% {
    opacity: 0;
    transform: translateY(8px) scale(0.98);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes pulseGentle {
  0%,
  100% {
    transform: scale(1);
    opacity: 1;
  }
  50% {
    transform: scale(1.05);
    opacity: 0.9;
  }
}

@keyframes gradientDrift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

@keyframes toastIn {
  from {
    transform: translateY(-8px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes languagePillFadeIn {
  from {
    opacity: 0;
    transform: translateY(-8px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes successPulse {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes voicePulse {
  0%,
  100% {
    opacity: 1;
  }
  50% {
    opacity: 0.4;
  }
}

@keyframes voiceIndicatorPulse {
  0%,
  100% {
    transform: scale(1);
    opacity: 1;
    box-shadow: 0 0 8px rgba(239, 68, 68, 0.6);
  }
  50% {
    transform: scale(1.2);
    opacity: 0.8;
    box-shadow: 0 0 12px rgba(239, 68, 68, 0.8);
  }
}

@keyframes voiceIndicatorRing {
  0% {
    transform: translate(-50%, -50%) scale(1);
    opacity: 0.7;
  }
  100% {
    transform: translate(-50%, -50%) scale(2.5);
    opacity: 0;
  }
}

@keyframes recordingBorderPulse {
  0%,
  100% {
    border-color: rgba(14, 165, 233, 0.6);
    box-shadow:
      0 0 0 3px rgba(14, 165, 233, 0.1),
      0 0 16px rgba(14, 165, 233, 0.15);
  }
  50% {
    border-color: rgba(56, 189, 248, 0.7);
    box-shadow:
      0 0 0 4px rgba(14, 165, 233, 0.15),
      0 0 20px rgba(14, 165, 233, 0.2);
  }
}

@keyframes interimTextFadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes finalTextTransition {
  0% {
    color: rgba(148, 163, 184, 0.7);
  }
  100% {
    color: var(--color-calm-50);
  }
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes dropdownSlideIn {
  from {
    opacity: 0;
    transform: translateY(-8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes highlightFadeIn {
  from {
    opacity: 0;
    transform: scale(0.98);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes tooltipFadeIn {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

@keyframes voiceIndicatorFadeIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* ===== THEME VARIABLES ===== */
@theme {
  /* Colors */
  --color-zen-50: oklch(0.985 0.008 232.5);
  --color-zen-100: oklch(0.96 0.02 232.5);
  --color-zen-200: oklch(0.92 0.04 232.5);
  --color-zen-300: oklch(0.85 0.08 232.5);
  --color-zen-400: oklch(0.75 0.14 232.5);
  --color-zen-500: oklch(0.65 0.19 232.5);
  --color-zen-600: oklch(0.55 0.18 232.5);
  --color-zen-700: oklch(0.45 0.15 232.5);
  --color-zen-800: oklch(0.35 0.12 232.5);
  --color-zen-900: oklch(0.28 0.09 232.5);

  --color-calm-50: oklch(0.99 0.002 264);
  --color-calm-100: oklch(0.97 0.004 264);
  --color-calm-200: oklch(0.93 0.008 264);
  --color-calm-300: oklch(0.87 0.012 264);
  --color-calm-400: oklch(0.71 0.022 264);
  --color-calm-500: oklch(0.55 0.027 264);
  --color-calm-600: oklch(0.45 0.03 264);
  --color-calm-700: oklch(0.37 0.034 264);
  --color-calm-800: oklch(0.28 0.033 264);
  --color-calm-900: oklch(0.21 0.034 264);

  --color-lotus-50: oklch(0.985 0.02 320);
  --color-lotus-100: oklch(0.96 0.04 320);
  --color-lotus-200: oklch(0.92 0.08 320);
  --color-lotus-300: oklch(0.85 0.14 320);
  --color-lotus-400: oklch(0.75 0.2 320);
  --color-lotus-500: oklch(0.65 0.25 320);
  --color-lotus-600: oklch(0.55 0.24 320);
  --color-lotus-700: oklch(0.45 0.2 320);
  --color-lotus-800: oklch(0.38 0.17 320);
  --color-lotus-900: oklch(0.32 0.14 320);

  --color-bg-primary: var(--color-calm-50);
  --color-bg-secondary: var(--color-zen-100);
  --color-accent: oklch(0.8 0.1 232.5);
  --color-accent-deep: oklch(0.7 0.15 232.5);
  --color-text-primary: var(--color-calm-800);
  --color-text-secondary: var(--color-calm-600);
  --color-success: oklch(0.85 0.12 145);
  --color-warning: oklch(0.9 0.12 85);
  --color-error: oklch(0.75 0.15 25);
  --color-overlay: oklch(0.99 0.002 264 / 0.85);
  --color-gradient-start: var(--color-zen-100);
  --color-gradient-end: oklch(0.92 0.06 280);

  /* Typography */
  --font-sans: 'Inter', system-ui, -apple-system, 'Segoe UI', sans-serif;
  --font-display: 'Noto Sans Display', 'Inter', system-ui, sans-serif;
  --font-serif: 'Lora', Georgia, 'Times New Roman', serif;
  --font-mono:
    'JetBrains Mono', 'Courier New', Consolas, 'Liberation Mono', monospace;

  /* Configure Tailwind to use our default font */
  --font-family-sans: 'Inter', system-ui, -apple-system, 'Segoe UI', sans-serif;

  /* Spacing */
  --spacing-1: 4px;
  --spacing-2: 8px;
  --spacing-3: 12px;
  --spacing-4: 16px;
  --spacing-6: 24px;
  --spacing-8: 32px;
  --spacing-12: 48px;

  /* Border Radius */
  --radius-sm: 8px;
  --radius-md: 16px;
  --radius-lg: 24px;
  --radius-xl: 16px;
  --radius-2xl: 24px;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-soft: 0 2px 6px 0 rgb(0 0 0 / 0.05);
  --shadow-medium: 0 4px 12px 0 rgb(0 0 0 / 0.08);
  --shadow-large: 0 8px 24px 0 rgb(0 0 0 / 0.12);
  --shadow-inner: inset 0 2px 4px 0 rgb(255 255 255 / 0.2);

  /* Animations */
  --animate-breathing: breathing 7s ease-in-out infinite;
  --animate-fade-in: fadeIn 1s ease-in-out;
  --animate-fade-out: fadeOut 1s ease-in-out;
  --animate-pulse-gentle: pulseGentle 2s ease-in-out infinite;
  --animate-gradient-drift: gradientDrift 8s linear infinite;
}

/* ===== FONT ISOLATION FOR SHADOW DOM ===== */
/**
 * CRITICAL: Font isolation for shadow DOM
 * This ensures fonts are isolated from host page styles
 *
 * Using high specificity selectors and !important to override any inherited styles
 * from the host page.
 *
 * IMPORTANT: Font isolation rules to override host page styles
 */

/*
 * ULTRA-AGGRESSIVE font reset - targets every possible element
 * This must override both Tailwind's base layer AND any host page styles
 */
:root,
:host,
:host *,
*,
*::before,
*::after,
html,
html *,
body,
body *,
div,
div *,
span,
span *,
button,
button *,
input,
input *,
textarea,
textarea *,
select,
select *,
p,
p *,
h1,
h1 *,
h2,
h2 *,
h3,
h3 *,
h4,
h4 *,
h5,
h5 *,
h6,
h6 *,
a,
a *,
li,
li *,
ul,
ul *,
ol,
ol *,
label,
label *,
td,
td *,
th,
th *,
table,
table * {
  font-family:
    'Inter',
    system-ui,
    -apple-system,
    'Segoe UI',
    sans-serif !important;
  font-style: normal !important;
}

/* Allow explicit font utilities to override the default */
.font-sans,
.font-sans * {
  font-family:
    'Inter',
    system-ui,
    -apple-system,
    'Segoe UI',
    sans-serif !important;
}

.font-display,
.font-display * {
  font-family: 'Noto Sans Display', 'Inter', system-ui, sans-serif !important;
}

.font-serif,
.font-serif * {
  font-family: 'Lora', Georgia, 'Times New Roman', serif !important;
}

.font-mono,
.font-mono * {
  font-family:
    'JetBrains Mono', 'Courier New', Consolas, 'Liberation Mono', monospace !important;
}
