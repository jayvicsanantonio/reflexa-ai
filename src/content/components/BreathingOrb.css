/* Breathing Orb Animation Component Styles */

@keyframes breathing {
  0%,
  100% {
    transform: scale(1);
    opacity: 0.9;
  }
  50% {
    transform: scale(1.2);
    opacity: 1;
  }
}

/* Box breathing: 4s inhale, 4s hold (full), 4s exhale, 4s hold (empty) */
@keyframes breathingBox {
  0% {
    transform: scale(1);
    opacity: 0.95;
  }
  25% {
    transform: scale(1.2);
    opacity: 1;
  }
  50% {
    transform: scale(1.2);
    opacity: 1;
  }
  75% {
    transform: scale(1);
    opacity: 0.95;
  }
  100% {
    transform: scale(1);
    opacity: 0.95;
  }
}

.reflexa-breathing-orb-container {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 48px 0;
}

.reflexa-breathing-orb {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  background: radial-gradient(
    circle at 30% 30%,
    #38bdf8 0%,
    #0ea5e9 40%,
    #0284c7 100%
  );
  box-shadow:
    0 0 40px rgba(14, 165, 233, 0.4),
    inset 0 0 20px rgba(255, 255, 255, 0.2);
}

.reflexa-breathing-orb--animated {
  animation: breathing 7s ease-in-out infinite;
}

.reflexa-breathing-orb--box {
  animation: breathingBox 16s linear infinite;
}

/* Obvious inhale-exhale pulse: 4s expand, 4s contract */
@keyframes breathingPulse {
  0% {
    transform: scale(1);
    opacity: 0.95;
    box-shadow:
      0 0 40px rgba(14, 165, 233, 0.45),
      inset 0 0 20px rgba(255, 255, 255, 0.22);
  }
  50% {
    transform: scale(1.28);
    opacity: 1;
    box-shadow:
      0 0 55px rgba(14, 165, 233, 0.6),
      inset 0 0 28px rgba(255, 255, 255, 0.28);
  }
  100% {
    transform: scale(1);
    opacity: 0.95;
    box-shadow:
      0 0 40px rgba(14, 165, 233, 0.45),
      inset 0 0 20px rgba(255, 255, 255, 0.22);
  }
}

.reflexa-breathing-orb--pulse {
  /* faster perceived grow/shrink with snappier easing; duration/iterations via CSS vars */
  animation: breathingPulse var(--orbDur, 8s) cubic-bezier(0.22, 0.9, 0.2, 1)
    var(--orbIter, 2) both;
}

/* Highlight ring at peak inhale */
.reflexa-breathing-orb {
  position: relative;
}

@keyframes ringPulse {
  0%,
  100% {
    opacity: 0;
    transform: scale(1);
  }
  50% {
    opacity: 0.85;
    transform: scale(1.25);
  }
}

.reflexa-breathing-orb--pulse::after {
  content: '';
  position: absolute;
  inset: -8px;
  border-radius: 50%;
  border: 2px solid rgba(96, 165, 250, 0.9); /* #60a5fa */
  box-shadow: 0 0 18px rgba(96, 165, 250, 0.45);
  pointer-events: none;
  opacity: 0;
  animation: ringPulse var(--orbDur, 8s) cubic-bezier(0.22, 0.9, 0.2, 1)
    var(--orbIter, 2) both;
}

/* Respect reduced motion preferences */
@media (prefers-reduced-motion: reduce) {
  .reflexa-breathing-orb--animated {
    animation: none;
    transform: scale(1);
    opacity: 1;
  }
  .reflexa-breathing-orb--box {
    animation: none;
    transform: scale(1);
    opacity: 1;
  }
  .reflexa-breathing-orb--pulse {
    animation: none;
    transform: scale(1);
    opacity: 1;
  }
}
